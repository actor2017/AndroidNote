<html>
<head>
    <meta charset="UTF-8">
    <title>hsga测试</title>
    <style type="text/css">
        h3,h4{
            text-align:center;
        }

        button {width: clientWidth; height: clientWidth; padding: 10px; font-size: 40px;}
        li {font-size: 40px;}
        <!--//width: clientWidth(包裹内容); 100%, 100px -->
    </style>
</head>


<body>
<ol>
    <li><button onclick="login()">login('传入json')</button></li>
    <li><button onclick="getapntype()">getapntype('传入json')</button></li>
    <li><button onclick="getsystem()">getsystem('传入json')</button></li>
    <li><button onclick="openview()">openview('传入json')</button></li>
    <li><button onclick="guide()">guide('传入json')</button></li>
    <li><button onclick="faceonline()">faceonline('传入json')</button></li>
    <li><button onclick="finish()">finish()</button></li>
    <li><button onclick="upload()">upload('选图片并上传,传入json')</button></li>
    <li><button onclick="upload1()">upload('选视频并上传,传入json')</button></li>
    <li><button onclick="getuserinfo()">getuserinfo('传入json')</button></li>
    <li><button onclick="getUserId()">getUserId('传入json')</button></li>
    <li><button onclick="directGetUserInfo()">directGetUserInfo('传入json')</button></li>
    <li><button onclick="share()">share('传入json')</button></li>
    <li><button onclick="shareWX()">shareWX('传入json')</button></li>
    <li><button onclick="geocoord()">geocoord('传入json')</button></li>
    <li><button onclick="getLocationInfo()">getLocationInfo()调Java方法,'直接'返回定位信息</button></li>
    <li><button onclick="externalLinkSingleLogin()">externalLinkSingleLogin('传入json')</button></li>
</ol>

<!--view.loadUrl(↓)-->
<!--javascript:(function(b){console.log("YYNClient initialization begin");var a={queue:[],callback:function(){var d=Array.prototype.slice.call(arguments,0);var c=d.shift();var e=d.shift();this.queue[c].apply(this,d);if(!e){delete this.queue[c]}}};a.directGetUserInfo=a.externalLinkSingleLogin=a.faceonline=a.finish=a.geocoord=a.getLocationInfo=a.getUserId=a.getapntype=a.getsystem=a.getuserinfo=a.guide=a.login=a.openview=a.share=a.shareWX=a.upload=a.uploadVideoFile=function(){var f=Array.prototype.slice.call(arguments,0);if(f.length<1){throw"YYNClient call error, message:miss method name"}var e=[];for(var h=1;h<f.length;h++){var c=f[h];var j=typeof c;e[e.length]=j;if(j=="function"){var d=a.queue.length;a.queue[d]=c;f[h]=d}}var g=JSON.parse(prompt(JSON.stringify({method:f.shift(),types:e,args:f})));if(g.code!=200){throw"YYNClient call error, code:"+g.code+", message:"+g.result}return g.result};Object.getOwnPropertyNames(a).forEach(function(d){var c=a[d];if(typeof c==="function"&&d!=="callback"){a[d]=function(){return c.apply(a,[d].concat(Array.prototype.slice.call(arguments,0)))}}});b.YYNClient=a;console.log("YYNClient initialization end")})(window);-->

    <script type="text/javascript">
        <!-- js调android, 登录 -->
        function login() {
            var json = JSON.stringify({'url':'https://www.baidu.com'});
            console.log(json);
            //window.YYNClient.login(json);//加上window也可以
            YYNClient.login(json);
        }

        <!--获取当前的网络状态, 没有网络0; WIFI网络1; 4G网络4; 3G网络3; 2G网络2 -->
        function getapntype() {
            var json = JSON.stringify({'callback':'onResult'});
            console.log(json);
            window.YYNClient.getapntype(json);
        }

        <!-- 获取系统类型, mlxc | yyn -->
        function getsystem() {
            var json = JSON.stringify({'callback':'onResult'});
            console.log(json);
            window.YYNClient.getsystem(json);
        }

        <!-- 跳转WebViewActivity, 带链接 -->
        function openview() {
            var json = JSON.stringify({'ishowtitlebar':'true','titlebarname':'测试标题','url':'https://www.baidu.com'});
            console.log(json);
            window.YYNClient.openview(json);
        }

        <!-- 唤起导航 -->
        function guide() {
            var json = JSON.stringify({'lat':'29.620486','lon':'106.506687','name':'重庆市渝北区好望角123路'});
            console.log(json);
            window.YYNClient.guide(json);
        }

        <!-- 唤起视频聊天 -->
        function faceonline() {
            var json = JSON.stringify({});
            console.log(json);
            window.YYNClient.faceonline(json);
        }

        <!-- 关闭当前页面 -->
        function finish() {
            window.YYNClient.finish();
        }

        <!-- 选图片并上传 -->
        function upload() {
            var json = JSON.stringify({'type':'1','callback':'onResult'});
            console.log(json);
            window.YYNClient.upload(json);
        }

        <!-- 选视频并上传 -->
        function upload1() {
            var json = JSON.stringify({'type':'2','callback':'onResult'});
            console.log(json);
            window.YYNClient.upload(json);
        }

        <!-- 获取用户信息 -->
        function getuserinfo() {
            var json = JSON.stringify({'callback':'onResult'});
            console.log(json);
            window.YYNClient.getuserinfo(json);
        }

        <!-- 获取用户信息 -->
        function getUserId() {
            var json = JSON.stringify({'callback':'onResult'});
            console.log(json);
            window.YYNClient.getUserId(json);
        }

        <!-- 获取用户信息 -->
        function directGetUserInfo() {
            var json = JSON.stringify({'callback':'onResult'});
            console.log(json);
            window.YYNClient.directGetUserInfo(json);
        }

        <!-- 友盟分享 -->
        function share() {
            var json = JSON.stringify({'title':'标题','content':'内容','imgurl':'https://www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png','link':'https://www.baidu.com/'});
            console.log(json);
            YYNClient.share(json);
        }

        <!-- 友盟分享到微信 -->
        function shareWX() {
            var json = JSON.stringify({'title':'标题','content':'内容','imgurl':'https://www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png','link':'https://www.baidu.com/'});
            console.log(json);
            YYNClient.shareWX(json);
        }

        <!-- 发送开始定位广播 -->
        function geocoord() {
            var json = JSON.stringify({'callback':'onResult'});
            console.log(json);
            YYNClient.geocoord(json);
        }

        <!-- 调Java方法,'直接'返回定位信息 -->
        function getLocationInfo() {
            var json = YYNClient.getLocationInfo();//直接返回
            //var result = JSON.stringify(json);//这儿不用转
            alert("直接获取定位信息：" + json);
            console.log("直接获取定位信息：" + json);
        }

        <!-- 跳转WebViewActivity -->
        function externalLinkSingleLogin() {
            var json = JSON.stringify({'androidlink':'https://www.baidu.com','code':'wgy','isshowtitlebar':1,'titlebarname':'code=wgy这是找工作'});
            console.log(json);
            YYNClient.externalLinkSingleLogin(json);
        }

        <!-- 回调的结果 -->
        function onResult(json) {
            //var object = JSON.parse(json);
            var result = JSON.stringify(json);//将json转换成String, 否则会打印[object Object]
            alert("Js收到消息：" + result);
            console.log("Js收到消息：" + result);
        }

<!--        javascript:(function(b){-->
<!--            console.log("YYNClient initialization begin");-->
<!--            var a={queue:[],callback:function(){-->
<!--                var d=Array.prototype.slice.call(arguments,0);-->
<!--                var c=d.shift();-->
<!--                var e=d.shift();-->
<!--                this.queue[c].apply(this,d);-->
<!--                if(!e){-->
<!--                    delete this.queue[c]-->
<!--                    }-->
<!--                }-->
<!--            };-->
<!--            a.directGetUserInfo=a.externalLinkSingleLogin=a.faceonline=a.finish=a.geocoord=a.getLocationInfo=a.getUserId=a.getapntype=a.getsystem=a.getuserinfo=a.guide=a.login=a.openview=a.share=a.shareWX=a.upload=a.uploadVideoFile=function(){-->
<!--                var f=Array.prototype.slice.call(arguments,0);-->
<!--                if(f.length<1){-->
<!--                    throw"YYNClient call error, message:miss method name"-->
<!--                }-->
<!--                var e=[];-->
<!--                for(var h=1;h<f.length;h++){-->
<!--                    var c=f[h];-->
<!--                    var j=typeof c;-->
<!--                    e[e.length]=j;-->
<!--                    if(j=="function"){-->
<!--                        var d=a.queue.length;-->
<!--                        a.queue[d]=c;-->
<!--                        f[h]=d-->
<!--                    }-->
<!--                }-->
<!--                var g=JSON.parse(prompt(JSON.stringify({method:f.shift(),types:e,args:f})));-->
<!--                if(g.code!=200){-->
<!--                    throw"YYNClient call error, code:"+g.code+", message:"+g.result}-->
<!--                    return g.result-->
<!--                };-->
<!--                Object.getOwnPropertyNames(a).forEach(function(d){-->
<!--                    var c=a[d];-->
<!--                    if(typeof c==="function"&&d!=="callback"){-->
<!--                        a[d]=function(){-->
<!--                            return c.apply(a,[d].concat(Array.prototype.slice.call(arguments,0)))-->
<!--                        }-->
<!--                    }-->
<!--                });-->
<!--                b.YYNClient=a;-->
<!--                console.log("YYNClient initialization end")-->
<!--            })(window);-->
    </script>

</body>
</html>
